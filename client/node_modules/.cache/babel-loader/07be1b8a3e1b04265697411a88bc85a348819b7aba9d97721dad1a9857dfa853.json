{"ast":null,"code":"import _objectSpread from\"F:/Mondaysys/Project 3/Lightweight CRM for Freelancers/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useParams,useNavigate,Link,useSearchParams}from'react-router-dom';import api from'../config/axios';import toast from'react-hot-toast';import{ArrowLeft,Save,FileText,Calendar,DollarSign}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InvoiceForm=()=>{const{id}=useParams();const navigate=useNavigate();const[searchParams]=useSearchParams();const[loading,setLoading]=useState(false);const[isEditing,setIsEditing]=useState(false);const[projects,setProjects]=useState([]);const[formData,setFormData]=useState({project_id:'',amount:'',due_date:'',description:'',status:'Draft',tax_rate:'0',discount:'0',notes:'',payment_terms:'30',currency:'USD'});const[errors,setErrors]=useState({});const fetchInvoice=useCallback(async()=>{try{const response=await api.get(\"/invoices/\".concat(id));setFormData(response.data.invoice);}catch(error){console.error('Error fetching invoice:',error);toast.error('Failed to fetch invoice data');}},[id]);useEffect(()=>{fetchProjects();if(id&&id!=='new'){setIsEditing(true);fetchInvoice();}else{// Set default project if provided in URL params\nconst projectId=searchParams.get('project');if(projectId){setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{project_id:projectId}));}}},[id,searchParams,fetchInvoice]);const fetchProjects=async()=>{try{const response=await api.get('/projects');setProjects(response.data.projects);}catch(error){console.error('Error fetching projects:',error);toast.error('Failed to fetch projects');}};const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};const calculateTotal=()=>{const amount=parseFloat(formData.amount)||0;const taxRate=parseFloat(formData.tax_rate)||0;const discount=parseFloat(formData.discount)||0;const subtotal=amount-discount;const tax=subtotal*(taxRate/100);const total=subtotal+tax;return{subtotal,tax,total};};const validateForm=()=>{const newErrors={};if(!formData.project_id){newErrors.project_id='Please select a project';}if(!formData.amount||isNaN(parseFloat(formData.amount))||parseFloat(formData.amount)<=0){newErrors.amount='Please enter a valid amount greater than 0';}if(formData.tax_rate&&(isNaN(parseFloat(formData.tax_rate))||parseFloat(formData.tax_rate)<0)){newErrors.tax_rate='Please enter a valid tax rate';}if(formData.discount&&(isNaN(parseFloat(formData.discount))||parseFloat(formData.discount)<0)){newErrors.discount='Please enter a valid discount amount';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{const{total}=calculateTotal();const submitData=_objectSpread(_objectSpread({},formData),{},{amount:total,// Use calculated total as the invoice amount\ntax_rate:parseFloat(formData.tax_rate)||0,discount:parseFloat(formData.discount)||0,payment_terms:parseInt(formData.payment_terms)||30});if(isEditing){await api.put(\"/invoices/\".concat(id),submitData);toast.success('Invoice updated successfully!');}else{await api.post('/invoices',submitData);toast.success('Invoice created successfully!');}navigate('/invoices');}catch(error){var _error$response,_error$response$data;console.error('Error saving invoice:',error);toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to save invoice');}finally{setLoading(false);}};const{subtotal,tax,total}=calculateTotal();return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-purple-900/40 via-indigo-900/30 to-black/50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-radial from-purple-600/8 via-transparent to-transparent animate-pulse\",style:{animationDuration:'8s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-radial from-blue-500/6 via-transparent to-transparent animate-pulse\",style:{animationDuration:'12s',animationDelay:'2s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-radial from-magenta-500/5 via-transparent to-transparent animate-pulse\",style:{animationDuration:'15s',animationDelay:'4s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-pulse\",style:{animationDelay:'1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/3 right-1/3 w-1 h-1 bg-purple-400 rounded-full animate-pulse\",style:{animationDelay:'3s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1/4 left-1/3 w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse\",style:{animationDelay:'5s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-2/3 right-1/4 w-1 h-1 bg-magenta-400 rounded-full animate-pulse\",style:{animationDelay:'7s'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto p-6 space-y-6 relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-purple-400/25 via-fuchsia-300/20 to-pink-400/15 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-500 animate-pulse\",style:{animationDuration:'6s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"relative backdrop-blur-2xl bg-gradient-to-br from-zinc-800/45 via-purple-900/40 to-fuchsia-900/35 border-2 border-purple-400/60 rounded-2xl p-6 shadow-2xl shadow-purple-500/30\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/invoices\",className:\"relative group/btn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-purple-500/30 to-fuchsia-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-gradient-to-br from-purple-500/50 to-fuchsia-400/50 border border-purple-300/60 rounded-xl p-3 hover:from-purple-500/60 hover:to-fuchsia-400/60 transition-all duration-300 shadow-lg\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-6 h-6 text-purple-200\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl font-black text-white drop-shadow-lg flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-8 h-8 text-purple-300\"}),isEditing?'Edit Invoice':'Create New Invoice']}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-200/80 text-lg mt-2\",children:isEditing?'Update invoice information':'Generate a new invoice for your project'})]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-green-400/20 via-lime-300/15 to-emerald-400/10 rounded-2xl blur-lg group-hover:blur-xl transition-all duration-500 animate-pulse\",style:{animationDuration:'7s',animationDelay:'1s'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative backdrop-blur-2xl bg-gradient-to-br from-neutral-800/40 via-green-900/35 to-lime-900/30 border-2 border-green-400/50 rounded-2xl shadow-2xl shadow-green-500/25\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 border-b border-green-400/30\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-2xl font-bold text-white flex items-center gap-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-6 h-6 text-green-300\"}),\"Invoice Information\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-6 w-6 mr-3 text-green-300\"}),\"Basic Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"project_id\",className:\"block text-sm font-bold text-green-200\",children:\"Project *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"project_id\",name:\"project_id\",required:true,className:\"w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white focus:outline-none focus:ring-2 transition-all duration-300 \".concat(errors.project_id?'border-red-400 focus:border-red-300 focus:ring-red-500/30':'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'),value:formData.project_id,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a project\"}),projects.map(project=>/*#__PURE__*/_jsxs(\"option\",{value:project.id,children:[project.name,\" - \",project.client_name]},project.id))]}),errors.project_id&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm mt-1\",children:errors.project_id})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",className:\"block text-sm font-bold text-green-200\",children:\"Status\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"status\",name:\"status\",className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\",value:formData.status,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Draft\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sent\",children:\"Sent\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Paid\",children:\"Paid\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Overdue\",children:\"Overdue\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"currency\",className:\"block text-sm font-bold text-green-200\",children:\"Currency\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"currency\",name:\"currency\",className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\",value:formData.currency,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"USD\",children:\"USD ($)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"EUR\",children:\"EUR (\\u20AC)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"GBP\",children:\"GBP (\\xA3)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"CAD\",children:\"CAD (C$)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"payment_terms\",className:\"block text-sm font-bold text-green-200\",children:\"Payment Terms (Days)\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"payment_terms\",name:\"payment_terms\",className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\",value:formData.payment_terms,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Due on receipt\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"7 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"15\",children:\"15 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"30 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"45\",children:\"45 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"60\",children:\"60 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"90\",children:\"90 days\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(DollarSign,{className:\"h-6 w-6 mr-3 text-green-300\"}),\"Amount Information\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",className:\"block text-sm font-bold text-green-200\",children:\"Base Amount *\"}),/*#__PURE__*/_jsx(\"input\",{id:\"amount\",name:\"amount\",type:\"number\",step:\"0.01\",min:\"0\",required:true,className:\"w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 \".concat(errors.amount?'border-red-400 focus:border-red-300 focus:ring-red-500/30':'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'),placeholder:\"0.00\",value:formData.amount,onChange:handleChange}),errors.amount&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm mt-1\",children:errors.amount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"discount\",className:\"block text-sm font-bold text-green-200\",children:\"Discount Amount\"}),/*#__PURE__*/_jsx(\"input\",{id:\"discount\",name:\"discount\",type:\"number\",step:\"0.01\",min:\"0\",className:\"w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 \".concat(errors.discount?'border-red-400 focus:border-red-300 focus:ring-red-500/30':'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'),placeholder:\"0.00\",value:formData.discount,onChange:handleChange}),errors.discount&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm mt-1\",children:errors.discount})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tax_rate\",className:\"block text-sm font-bold text-green-200\",children:\"Tax Rate (%)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"tax_rate\",name:\"tax_rate\",type:\"number\",step:\"0.01\",min:\"0\",max:\"100\",className:\"w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 \".concat(errors.tax_rate?'border-red-400 focus:border-red-300 focus:ring-red-500/30':'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'),placeholder:\"0.00\",value:formData.tax_rate,onChange:handleChange}),errors.tax_rate&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-300 text-sm mt-1\",children:errors.tax_rate})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-slate-800/50 border border-green-400/30 rounded-xl p-6 mt-6\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-bold text-white mb-4 text-lg\",children:\"Amount Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-200\",children:\"Base Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"$\",parseFloat(formData.amount||0).toFixed(2)]})]}),parseFloat(formData.discount||0)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-red-300\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"-$\",parseFloat(formData.discount||0).toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-200\",children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"$\",subtotal.toFixed(2)]})]}),parseFloat(formData.tax_rate||0)>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-200\",children:[\"Tax (\",formData.tax_rate,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"$\",tax.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between font-black text-xl border-t border-green-400/30 pt-3\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-green-300\",children:[\"$\",total.toFixed(2)]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xl font-bold text-white mb-6 flex items-center\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-6 w-6 mr-3 text-green-300\"}),\"Dates\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"due_date\",className:\"block text-sm font-bold text-green-200\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{id:\"due_date\",name:\"due_date\",type:\"date\",className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\",value:formData.due_date,onChange:handleChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xl font-bold text-white mb-6\",children:\"Description & Notes\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"block text-sm font-bold text-green-200\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:3,className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300 resize-none\",placeholder:\"Describe the work or services provided...\",value:formData.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"notes\",className:\"block text-sm font-bold text-green-200\",children:\"Additional Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"notes\",name:\"notes\",rows:3,className:\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300 resize-none\",placeholder:\"Add any additional notes for the client...\",value:formData.notes,onChange:handleChange})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-4 pt-6 border-t border-green-400/30\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/invoices\",className:\"relative group/btn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-gray-500/30 to-slate-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative bg-gradient-to-br from-gray-500/50 to-slate-400/50 border border-gray-300/60 rounded-xl px-6 py-3 hover:from-gray-500/60 hover:to-slate-400/60 transition-all duration-300 shadow-lg\",children:/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:\"Cancel\"})})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",disabled:loading,className:\"relative group/btn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-green-500/30 to-lime-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative bg-gradient-to-br from-green-500/50 to-lime-400/50 border border-green-300/60 rounded-xl px-6 py-3 flex items-center gap-2 hover:from-green-500/60 hover:to-lime-400/60 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\",children:[/*#__PURE__*/_jsx(Save,{className:\"w-5 h-5 text-green-200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white\",children:loading?'Saving...':isEditing?'Update Invoice':'Create Invoice'})]})]})]})]})})]})]})]})]});};export default InvoiceForm;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useParams","useNavigate","Link","useSearchParams","api","toast","ArrowLeft","Save","FileText","Calendar","DollarSign","jsx","_jsx","jsxs","_jsxs","InvoiceForm","id","navigate","searchParams","loading","setLoading","isEditing","setIsEditing","projects","setProjects","formData","setFormData","project_id","amount","due_date","description","status","tax_rate","discount","notes","payment_terms","currency","errors","setErrors","fetchInvoice","response","get","concat","data","invoice","error","console","fetchProjects","projectId","prev","_objectSpread","handleChange","e","name","value","target","calculateTotal","parseFloat","taxRate","subtotal","tax","total","validateForm","newErrors","isNaN","Object","keys","length","handleSubmit","preventDefault","submitData","parseInt","put","success","post","_error$response","_error$response$data","message","className","children","style","animationDuration","animationDelay","to","onSubmit","htmlFor","required","onChange","map","project","client_name","type","step","min","placeholder","max","toFixed","rows","disabled"],"sources":["F:/Mondaysys/Project 3/Lightweight CRM for Freelancers/client/src/pages/InvoiceForm.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useParams, useNavigate, Link, useSearchParams } from 'react-router-dom';\r\nimport api from '../config/axios';\r\nimport toast from 'react-hot-toast';\r\nimport { ArrowLeft, Save, FileText, Calendar, DollarSign } from 'lucide-react';\r\n\r\nconst InvoiceForm = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const [loading, setLoading] = useState(false);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [projects, setProjects] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    project_id: '',\r\n    amount: '',\r\n    due_date: '',\r\n    description: '',\r\n    status: 'Draft',\r\n    tax_rate: '0',\r\n    discount: '0',\r\n    notes: '',\r\n    payment_terms: '30',\r\n    currency: 'USD'\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const fetchInvoice = useCallback(async () => {\r\n    try {\r\n      const response = await api.get(`/invoices/${id}`);\r\n      setFormData(response.data.invoice);\r\n    } catch (error) {\r\n      console.error('Error fetching invoice:', error);\r\n      toast.error('Failed to fetch invoice data');\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    fetchProjects();\r\n    \r\n    if (id && id !== 'new') {\r\n      setIsEditing(true);\r\n      fetchInvoice();\r\n    } else {\r\n      // Set default project if provided in URL params\r\n      const projectId = searchParams.get('project');\r\n      if (projectId) {\r\n        setFormData(prev => ({ ...prev, project_id: projectId }));\r\n      }\r\n    }\r\n  }, [id, searchParams, fetchInvoice]);\r\n\r\n  const fetchProjects = async () => {\r\n    try {\r\n      const response = await api.get('/projects');\r\n      setProjects(response.data.projects);\r\n    } catch (error) {\r\n      console.error('Error fetching projects:', error);\r\n      toast.error('Failed to fetch projects');\r\n    }\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors(prev => ({\r\n        ...prev,\r\n        [name]: ''\r\n      }));\r\n    }\r\n  };\r\n\r\n  const calculateTotal = () => {\r\n    const amount = parseFloat(formData.amount) || 0;\r\n    const taxRate = parseFloat(formData.tax_rate) || 0;\r\n    const discount = parseFloat(formData.discount) || 0;\r\n    \r\n    const subtotal = amount - discount;\r\n    const tax = subtotal * (taxRate / 100);\r\n    const total = subtotal + tax;\r\n    \r\n    return { subtotal, tax, total };\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n\r\n    if (!formData.project_id) {\r\n      newErrors.project_id = 'Please select a project';\r\n    }\r\n\r\n    if (!formData.amount || isNaN(parseFloat(formData.amount)) || parseFloat(formData.amount) <= 0) {\r\n      newErrors.amount = 'Please enter a valid amount greater than 0';\r\n    }\r\n\r\n    if (formData.tax_rate && (isNaN(parseFloat(formData.tax_rate)) || parseFloat(formData.tax_rate) < 0)) {\r\n      newErrors.tax_rate = 'Please enter a valid tax rate';\r\n    }\r\n\r\n    if (formData.discount && (isNaN(parseFloat(formData.discount)) || parseFloat(formData.discount) < 0)) {\r\n      newErrors.discount = 'Please enter a valid discount amount';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { total } = calculateTotal();\r\n      const submitData = {\r\n        ...formData,\r\n        amount: total, // Use calculated total as the invoice amount\r\n        tax_rate: parseFloat(formData.tax_rate) || 0,\r\n        discount: parseFloat(formData.discount) || 0,\r\n        payment_terms: parseInt(formData.payment_terms) || 30\r\n      };\r\n\r\n      if (isEditing) {\r\n        await api.put(`/invoices/${id}`, submitData);\r\n        toast.success('Invoice updated successfully!');\r\n      } else {\r\n        await api.post('/invoices', submitData);\r\n        toast.success('Invoice created successfully!');\r\n      }\r\n      \r\n      navigate('/invoices');\r\n    } catch (error) {\r\n      console.error('Error saving invoice:', error);\r\n      toast.error(error.response?.data?.message || 'Failed to save invoice');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const { subtotal, tax, total } = calculateTotal();\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative overflow-hidden\">\r\n      {/* Enhanced Cosmic Background */}\r\n      <div className=\"absolute inset-0 pointer-events-none\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-purple-900/40 via-indigo-900/30 to-black/50\"></div>\r\n        <div className=\"absolute inset-0 bg-gradient-radial from-purple-600/8 via-transparent to-transparent animate-pulse\" style={{animationDuration: '8s'}}></div>\r\n        <div className=\"absolute inset-0 bg-gradient-radial from-blue-500/6 via-transparent to-transparent animate-pulse\" style={{animationDuration: '12s', animationDelay: '2s'}}></div>\r\n        <div className=\"absolute inset-0 bg-gradient-radial from-magenta-500/5 via-transparent to-transparent animate-pulse\" style={{animationDuration: '15s', animationDelay: '4s'}}></div>\r\n        <div className=\"absolute top-1/4 left-1/4 w-2 h-2 bg-cyan-400 rounded-full animate-pulse\" style={{animationDelay: '1s'}}></div>\r\n        <div className=\"absolute top-1/3 right-1/3 w-1 h-1 bg-purple-400 rounded-full animate-pulse\" style={{animationDelay: '3s'}}></div>\r\n        <div className=\"absolute bottom-1/4 left-1/3 w-1.5 h-1.5 bg-blue-400 rounded-full animate-pulse\" style={{animationDelay: '5s'}}></div>\r\n        <div className=\"absolute top-2/3 right-1/4 w-1 h-1 bg-magenta-400 rounded-full animate-pulse\" style={{animationDelay: '7s'}}></div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6 space-y-6 relative\">\r\n        {/* Header - Electric Purple & Neon Pink */}\r\n        <div className=\"relative group\">\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-purple-400/25 via-fuchsia-300/20 to-pink-400/15 rounded-2xl blur-xl group-hover:blur-2xl transition-all duration-500 animate-pulse\" style={{animationDuration: '6s'}}></div>\r\n          <div className=\"relative backdrop-blur-2xl bg-gradient-to-br from-zinc-800/45 via-purple-900/40 to-fuchsia-900/35 border-2 border-purple-400/60 rounded-2xl p-6 shadow-2xl shadow-purple-500/30\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <Link to=\"/invoices\" className=\"relative group/btn\">\r\n                  <div className=\"absolute inset-0 bg-gradient-to-br from-purple-500/30 to-fuchsia-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"></div>\r\n                  <div className=\"relative bg-gradient-to-br from-purple-500/50 to-fuchsia-400/50 border border-purple-300/60 rounded-xl p-3 hover:from-purple-500/60 hover:to-fuchsia-400/60 transition-all duration-300 shadow-lg\">\r\n                    <ArrowLeft className=\"w-6 h-6 text-purple-200\" />\r\n                  </div>\r\n                </Link>\r\n                <div>\r\n                  <h1 className=\"text-4xl font-black text-white drop-shadow-lg flex items-center gap-3\">\r\n                    <FileText className=\"w-8 h-8 text-purple-300\" />\r\n                    {isEditing ? 'Edit Invoice' : 'Create New Invoice'}\r\n                  </h1>\r\n                  <p className=\"text-purple-200/80 text-lg mt-2\">\r\n                    {isEditing ? 'Update invoice information' : 'Generate a new invoice for your project'}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Form - Neon Green & Electric Lime */}\r\n        <div className=\"relative group\">\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-green-400/20 via-lime-300/15 to-emerald-400/10 rounded-2xl blur-lg group-hover:blur-xl transition-all duration-500 animate-pulse\" style={{animationDuration: '7s', animationDelay: '1s'}}></div>\r\n          <div className=\"relative backdrop-blur-2xl bg-gradient-to-br from-neutral-800/40 via-green-900/35 to-lime-900/30 border-2 border-green-400/50 rounded-2xl shadow-2xl shadow-green-500/25\">\r\n            <div className=\"p-6 border-b border-green-400/30\">\r\n              <h3 className=\"text-2xl font-bold text-white flex items-center gap-3\">\r\n                <FileText className=\"w-6 h-6 text-green-300\" />\r\n                Invoice Information\r\n              </h3>\r\n            </div>\r\n            <div className=\"p-6\">\r\n              <form onSubmit={handleSubmit} className=\"space-y-8\">\r\n                {/* Basic Information */}\r\n                <div>\r\n                  <h4 className=\"text-xl font-bold text-white mb-6 flex items-center\">\r\n                    <FileText className=\"h-6 w-6 mr-3 text-green-300\" />\r\n                    Basic Information\r\n                  </h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"project_id\" className=\"block text-sm font-bold text-green-200\">\r\n                        Project *\r\n                      </label>\r\n                      <select\r\n                        id=\"project_id\"\r\n                        name=\"project_id\"\r\n                        required\r\n                        className={`w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white focus:outline-none focus:ring-2 transition-all duration-300 ${\r\n                          errors.project_id \r\n                            ? 'border-red-400 focus:border-red-300 focus:ring-red-500/30' \r\n                            : 'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'\r\n                        }`}\r\n                        value={formData.project_id}\r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"\">Select a project</option>\r\n                        {projects.map(project => (\r\n                          <option key={project.id} value={project.id}>\r\n                            {project.name} - {project.client_name}\r\n                          </option>\r\n                        ))}\r\n                      </select>\r\n                      {errors.project_id && <p className=\"text-red-300 text-sm mt-1\">{errors.project_id}</p>}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"status\" className=\"block text-sm font-bold text-green-200\">\r\n                        Status\r\n                      </label>\r\n                      <select\r\n                        id=\"status\"\r\n                        name=\"status\"\r\n                        className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\"\r\n                        value={formData.status}\r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"Draft\">Draft</option>\r\n                        <option value=\"Sent\">Sent</option>\r\n                        <option value=\"Paid\">Paid</option>\r\n                        <option value=\"Overdue\">Overdue</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"currency\" className=\"block text-sm font-bold text-green-200\">\r\n                        Currency\r\n                      </label>\r\n                      <select\r\n                        id=\"currency\"\r\n                        name=\"currency\"\r\n                        className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\"\r\n                        value={formData.currency}\r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"USD\">USD ($)</option>\r\n                        <option value=\"EUR\">EUR (€)</option>\r\n                        <option value=\"GBP\">GBP (£)</option>\r\n                        <option value=\"CAD\">CAD (C$)</option>\r\n                      </select>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"payment_terms\" className=\"block text-sm font-bold text-green-200\">\r\n                        Payment Terms (Days)\r\n                      </label>\r\n                      <select\r\n                        id=\"payment_terms\"\r\n                        name=\"payment_terms\"\r\n                        className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\"\r\n                        value={formData.payment_terms}\r\n                        onChange={handleChange}\r\n                      >\r\n                        <option value=\"0\">Due on receipt</option>\r\n                        <option value=\"7\">7 days</option>\r\n                        <option value=\"15\">15 days</option>\r\n                        <option value=\"30\">30 days</option>\r\n                        <option value=\"45\">45 days</option>\r\n                        <option value=\"60\">60 days</option>\r\n                        <option value=\"90\">90 days</option>\r\n                      </select>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n\r\n                {/* Amount Information */}\r\n                <div>\r\n                  <h4 className=\"text-xl font-bold text-white mb-6 flex items-center\">\r\n                    <DollarSign className=\"h-6 w-6 mr-3 text-green-300\" />\r\n                    Amount Information\r\n                  </h4>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"amount\" className=\"block text-sm font-bold text-green-200\">\r\n                        Base Amount *\r\n                      </label>\r\n                      <input\r\n                        id=\"amount\"\r\n                        name=\"amount\"\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                        required\r\n                        className={`w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 ${\r\n                          errors.amount \r\n                            ? 'border-red-400 focus:border-red-300 focus:ring-red-500/30' \r\n                            : 'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'\r\n                        }`}\r\n                        placeholder=\"0.00\"\r\n                        value={formData.amount}\r\n                        onChange={handleChange}\r\n                      />\r\n                      {errors.amount && <p className=\"text-red-300 text-sm mt-1\">{errors.amount}</p>}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"discount\" className=\"block text-sm font-bold text-green-200\">\r\n                        Discount Amount\r\n                      </label>\r\n                      <input\r\n                        id=\"discount\"\r\n                        name=\"discount\"\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                        className={`w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 ${\r\n                          errors.discount \r\n                            ? 'border-red-400 focus:border-red-300 focus:ring-red-500/30' \r\n                            : 'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'\r\n                        }`}\r\n                        placeholder=\"0.00\"\r\n                        value={formData.discount}\r\n                        onChange={handleChange}\r\n                      />\r\n                      {errors.discount && <p className=\"text-red-300 text-sm mt-1\">{errors.discount}</p>}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"tax_rate\" className=\"block text-sm font-bold text-green-200\">\r\n                        Tax Rate (%)\r\n                      </label>\r\n                      <input\r\n                        id=\"tax_rate\"\r\n                        name=\"tax_rate\"\r\n                        type=\"number\"\r\n                        step=\"0.01\"\r\n                        min=\"0\"\r\n                        max=\"100\"\r\n                        className={`w-full px-4 py-3 bg-slate-800/50 border rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:ring-2 transition-all duration-300 ${\r\n                          errors.tax_rate \r\n                            ? 'border-red-400 focus:border-red-300 focus:ring-red-500/30' \r\n                            : 'border-green-400/30 focus:border-green-300/60 focus:ring-green-500/30'\r\n                        }`}\r\n                        placeholder=\"0.00\"\r\n                        value={formData.tax_rate}\r\n                        onChange={handleChange}\r\n                      />\r\n                      {errors.tax_rate && <p className=\"text-red-300 text-sm mt-1\">{errors.tax_rate}</p>}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Amount Summary */}\r\n                  <div className=\"bg-slate-800/50 border border-green-400/30 rounded-xl p-6 mt-6\">\r\n                    <h5 className=\"font-bold text-white mb-4 text-lg\">Amount Summary</h5>\r\n                    <div className=\"space-y-3\">\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-green-200\">Base Amount:</span>\r\n                        <span className=\"text-white font-semibold\">${parseFloat(formData.amount || 0).toFixed(2)}</span>\r\n                      </div>\r\n                      {parseFloat(formData.discount || 0) > 0 && (\r\n                        <div className=\"flex justify-between text-red-300\">\r\n                          <span>Discount:</span>\r\n                          <span>-${parseFloat(formData.discount || 0).toFixed(2)}</span>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex justify-between\">\r\n                        <span className=\"text-green-200\">Subtotal:</span>\r\n                        <span className=\"text-white font-semibold\">${subtotal.toFixed(2)}</span>\r\n                      </div>\r\n                      {parseFloat(formData.tax_rate || 0) > 0 && (\r\n                        <div className=\"flex justify-between\">\r\n                          <span className=\"text-green-200\">Tax ({formData.tax_rate}%):</span>\r\n                          <span className=\"text-white font-semibold\">${tax.toFixed(2)}</span>\r\n                        </div>\r\n                      )}\r\n                      <div className=\"flex justify-between font-black text-xl border-t border-green-400/30 pt-3\">\r\n                        <span className=\"text-white\">Total:</span>\r\n                        <span className=\"text-green-300\">${total.toFixed(2)}</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Dates */}\r\n                <div>\r\n                  <h4 className=\"text-xl font-bold text-white mb-6 flex items-center\">\r\n                    <Calendar className=\"h-6 w-6 mr-3 text-green-300\" />\r\n                    Dates\r\n                  </h4>\r\n                  <div className=\"space-y-2\">\r\n                    <label htmlFor=\"due_date\" className=\"block text-sm font-bold text-green-200\">\r\n                      Due Date\r\n                    </label>\r\n                    <input\r\n                      id=\"due_date\"\r\n                      name=\"due_date\"\r\n                      type=\"date\"\r\n                      className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300\"\r\n                      value={formData.due_date}\r\n                      onChange={handleChange}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Description and Notes */}\r\n                <div>\r\n                  <h4 className=\"text-xl font-bold text-white mb-6\">Description & Notes</h4>\r\n                  <div className=\"space-y-6\">\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"description\" className=\"block text-sm font-bold text-green-200\">\r\n                        Description\r\n                      </label>\r\n                      <textarea\r\n                        id=\"description\"\r\n                        name=\"description\"\r\n                        rows={3}\r\n                        className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300 resize-none\"\r\n                        placeholder=\"Describe the work or services provided...\"\r\n                        value={formData.description}\r\n                        onChange={handleChange}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <label htmlFor=\"notes\" className=\"block text-sm font-bold text-green-200\">\r\n                        Additional Notes\r\n                      </label>\r\n                      <textarea\r\n                        id=\"notes\"\r\n                        name=\"notes\"\r\n                        rows={3}\r\n                        className=\"w-full px-4 py-3 bg-slate-800/50 border border-green-400/30 rounded-xl text-white placeholder-green-200/60 focus:outline-none focus:border-green-300/60 focus:ring-2 focus:ring-green-500/30 transition-all duration-300 resize-none\"\r\n                        placeholder=\"Add any additional notes for the client...\"\r\n                        value={formData.notes}\r\n                        onChange={handleChange}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Form Actions */}\r\n                <div className=\"flex items-center justify-end space-x-4 pt-6 border-t border-green-400/30\">\r\n                  <Link to=\"/invoices\" className=\"relative group/btn\">\r\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-gray-500/30 to-slate-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"></div>\r\n                    <div className=\"relative bg-gradient-to-br from-gray-500/50 to-slate-400/50 border border-gray-300/60 rounded-xl px-6 py-3 hover:from-gray-500/60 hover:to-slate-400/60 transition-all duration-300 shadow-lg\">\r\n                      <span className=\"font-semibold text-white\">Cancel</span>\r\n                    </div>\r\n                  </Link>\r\n                  <button\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    className=\"relative group/btn\"\r\n                  >\r\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-green-500/30 to-lime-400/30 rounded-xl blur-sm group-hover/btn:blur-md transition-all duration-300\"></div>\r\n                    <div className=\"relative bg-gradient-to-br from-green-500/50 to-lime-400/50 border border-green-300/60 rounded-xl px-6 py-3 flex items-center gap-2 hover:from-green-500/60 hover:to-lime-400/60 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                      <Save className=\"w-5 h-5 text-green-200\" />\r\n                      <span className=\"font-semibold text-white\">\r\n                        {loading ? 'Saving...' : (isEditing ? 'Update Invoice' : 'Create Invoice')}\r\n                      </span>\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}