{"ast":null,"code":"import _objectSpread from\"F:/Mondaysys/Project 3/Lightweight CRM for Freelancers/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import{useNavigate}from'react-router-dom';import api from'../config/axios';import toast from'react-hot-toast';import{ArrowLeft,Save,FileText,Calendar,DollarSign,Plus,Trash2,CheckCircle,User,FolderOpen,Calculator,Receipt}from'lucide-react';import{getCardClasses,getButtonClasses,getGlowClasses}from'../styles/cosmic-design-system';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InvoiceGenerator=()=>{const navigate=useNavigate();const[loading,setLoading]=useState(false);const[clients,setClients]=useState([]);const[selectedClient,setSelectedClient]=useState(null);const[billableProjects,setBillableProjects]=useState([]);const[selectedProjects,setSelectedProjects]=useState(new Set());const[lineItems,setLineItems]=useState([]);const[manualLineItems,setManualLineItems]=useState([]);const[formData,setFormData]=useState({due_date:'',tax_rate:'0',discount:'0',notes:'',payment_terms:'30',currency:'USD'});const[totals,setTotals]=useState({subtotal:0,tax_amount:0,discount_amount:0,total:0});// Fetch clients with billable projects\nconst fetchClients=useCallback(async()=>{try{const response=await api.get('/invoices/generator/clients');setClients(response.data.clients);}catch(error){console.error('Error fetching clients:',error);toast.error('Failed to fetch clients');}},[]);// Fetch billable projects for selected client\nconst fetchBillableProjects=useCallback(async clientId=>{try{const response=await api.get(\"/invoices/generator/clients/\".concat(clientId,\"/projects\"));setBillableProjects(response.data.projects);}catch(error){console.error('Error fetching billable projects:',error);toast.error('Failed to fetch billable projects');}},[]);useEffect(()=>{fetchClients();},[fetchClients]);// Handle client selection\nconst handleClientSelect=clientId=>{const client=clients.find(c=>c.id===parseInt(clientId));setSelectedClient(client);setSelectedProjects(new Set());setLineItems([]);setManualLineItems([]);if(clientId){fetchBillableProjects(clientId);}else{setBillableProjects([]);}};// Handle project selection\nconst handleProjectToggle=(projectId,isSelected)=>{const newSelectedProjects=new Set(selectedProjects);if(isSelected){newSelectedProjects.add(projectId);}else{newSelectedProjects.delete(projectId);}setSelectedProjects(newSelectedProjects);updateLineItems(newSelectedProjects);};// Update line items based on selected projects\nconst updateLineItems=projectIds=>{const projectLineItems=Array.from(projectIds).map(projectId=>{const project=billableProjects.find(p=>p.id===projectId);return{id:\"project-\".concat(projectId),type:'project',project_id:projectId,description:project.name,amount:project.total_amount||0,editable:false};});setLineItems([...projectLineItems,...manualLineItems]);};// Add manual line item\nconst addManualLineItem=()=>{const newItem={id:\"manual-\".concat(Date.now()),type:'manual',description:'',amount:0,editable:true};setManualLineItems(prev=>[...prev,newItem]);setLineItems(prev=>[...prev,newItem]);};// Update manual line item\nconst updateManualLineItem=(id,field,value)=>{const updatedItems=manualLineItems.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{[field]:value}):item);setManualLineItems(updatedItems);// Update line items\nconst updatedLineItems=lineItems.map(item=>item.id===id?_objectSpread(_objectSpread({},item),{},{[field]:value}):item);setLineItems(updatedLineItems);};// Remove manual line item\nconst removeManualLineItem=id=>{setManualLineItems(prev=>prev.filter(item=>item.id!==id));setLineItems(prev=>prev.filter(item=>item.id!==id));};// Calculate totals\nuseEffect(()=>{const subtotal=lineItems.reduce((sum,item)=>sum+(parseFloat(item.amount)||0),0);const taxRate=parseFloat(formData.tax_rate)||0;const discount=parseFloat(formData.discount)||0;const taxAmount=subtotal*taxRate/100;const total=subtotal+taxAmount-discount;setTotals({subtotal,tax_amount:taxAmount,discount_amount:discount,total});},[lineItems,formData.tax_rate,formData.discount]);// Handle form submission\nconst handleSubmit=async function(){let status=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'Draft';if(!selectedClient){toast.error('Please select a client');return;}if(lineItems.length===0){toast.error('Please add at least one line item');return;}if(totals.total<=0){toast.error('Total amount must be greater than 0');return;}setLoading(true);try{const projectIds=Array.from(selectedProjects);const payload={client_id:selectedClient.id,project_ids:projectIds,line_items:lineItems,due_date:formData.due_date,tax_rate:parseFloat(formData.tax_rate)||0,discount:parseFloat(formData.discount)||0,notes:formData.notes,payment_terms:parseInt(formData.payment_terms)||30,currency:formData.currency,status};const response=await api.post('/invoices/generator/create',payload);toast.success(\"Invoice \".concat(status==='Draft'?'saved as draft':'created',\" successfully!\"));navigate(\"/invoices/\".concat(response.data.invoice.id));}catch(error){console.error('Error creating invoice:',error);toast.error('Failed to create invoice');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen relative overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br from-purple-900/40 via-indigo-900/30 to-black/50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 opacity-30\",children:[...Array(35)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-1 h-1 bg-white rounded-full animate-pulse\",style:{left:\"\".concat(Math.random()*100,\"%\"),top:\"\".concat(Math.random()*100,\"%\"),animationDelay:\"\".concat(Math.random()*3,\"s\"),animationDuration:\"\".concat(2+Math.random()*3,\"s\")}},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-0 left-0 w-full h-full\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-radial from-purple-600/10 to-transparent rounded-full blur-3xl animate-pulse\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-3/4 right-1/4 w-80 h-80 bg-gradient-radial from-blue-500/8 to-transparent rounded-full blur-3xl animate-pulse\",style:{animationDelay:'1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-gradient-radial from-magenta-500/6 to-transparent rounded-full blur-3xl animate-pulse\",style:{animationDelay:'2s'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-20 right-20 w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full shadow-2xl animate-float\",style:{animationDelay:'0.5s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-40 left-20 w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full shadow-2xl animate-float\",style:{animationDelay:'1.5s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-40 right-40 w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-400 rounded-full shadow-2xl animate-float\",style:{animationDelay:'2.5s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-1/3 left-1/4 w-32 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent transform rotate-45 opacity-60 animate-pulse\",style:{animationDelay:'0.8s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-1/3 right-1/4 w-24 h-1 bg-gradient-to-r from-transparent via-purple-400 to-transparent transform rotate-45 opacity-60 animate-pulse\",style:{animationDelay:'1.8s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0\",children:[...Array(12)].map((_,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse\",style:{left:\"\".concat(Math.random()*100,\"%\"),top:\"\".concat(Math.random()*100,\"%\"),animationDelay:\"\".concat(Math.random()*4,\"s\"),animationDuration:\"\".concat(3+Math.random()*2,\"s\")}},i))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative z-10 p-4 sm:p-6 lg:p-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(getGlowClasses('purple','medium'),\" \").concat(getCardClasses('standard'),\" p-4 sm:p-6 mb-6\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/invoices'),className:\"\".concat(getButtonClasses('primary','sm'),\" p-2 sm:p-3\"),children:/*#__PURE__*/_jsx(ArrowLeft,{size:18})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Receipt,{className:\"text-purple-400\"}),\"Invoice Generator\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-200/80 text-sm sm:text-base\",children:\"Create professional invoices from multiple projects\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 xl:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"xl:col-span-2 space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getGlowClasses('orange','medium'),\" \").concat(getCardClasses('warning'),\" p-4 sm:p-6\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gradient-to-br from-orange-500/30 to-red-500/30 rounded-lg border border-orange-400/40\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-orange-300\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Step 1: Select Client\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-orange-200\",children:\"Choose a client with completed projects\"}),/*#__PURE__*/_jsxs(\"select\",{value:(selectedClient===null||selectedClient===void 0?void 0:selectedClient.id)||'',onChange:e=>handleClientSelect(e.target.value),className:\"w-full p-3 bg-slate-800/50 border-2 border-orange-400/30 rounded-xl text-white placeholder-orange-200/60 focus:border-orange-300/60 focus:ring-2 focus:ring-orange-500/30 transition-all duration-300\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client...\"}),clients.map(client=>/*#__PURE__*/_jsxs(\"option\",{value:client.id,children:[client.name,\" \",client.company&&\"(\".concat(client.company,\")\")]},client.id))]})]})]}),selectedClient&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getGlowClasses('blue','medium'),\" \").concat(getCardClasses('info'),\" p-4 sm:p-6\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gradient-to-br from-blue-500/30 to-cyan-500/30 rounded-lg border border-blue-400/40\",children:/*#__PURE__*/_jsx(FolderOpen,{className:\"w-5 h-5 text-blue-300\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Step 2: Select Billable Projects\"})]}),billableProjects.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(FolderOpen,{className:\"w-12 h-12 text-blue-400/50 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-200/80\",children:\"No completed projects available for invoicing\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:billableProjects.map(project=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-blue-400/20\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedProjects.has(project.id),onChange:e=>handleProjectToggle(project.id,e.target.checked),className:\"w-5 h-5 text-blue-500 bg-slate-700 border-blue-400/30 rounded focus:ring-blue-500/30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-semibold\",children:project.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-blue-200/80 text-sm\",children:project.description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-right\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-300 font-bold\",children:[\"$\",project.total_amount||0]})})]},project.id))})]}),selectedClient&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getGlowClasses('green','medium'),\" \").concat(getCardClasses('success'),\" p-4 sm:p-6\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gradient-to-br from-green-500/30 to-emerald-500/30 rounded-lg border border-green-400/40\",children:/*#__PURE__*/_jsx(Calculator,{className:\"w-5 h-5 text-green-300\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-white\",children:\"Step 3: Invoice Line Items\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:addManualLineItem,className:\"\".concat(getButtonClasses('success','sm'),\" flex items-center gap-2\"),children:[/*#__PURE__*/_jsx(Plus,{size:16}),\"Add Manual Item\"]})]}),lineItems.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Calculator,{className:\"w-12 h-12 text-green-400/50 mx-auto mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-green-200/80\",children:\"Select projects above to build your invoice\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:lineItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-green-400/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:item.editable?/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:item.description,onChange:e=>updateManualLineItem(item.id,'description',e.target.value),placeholder:\"Item description\",className:\"w-full p-2 bg-slate-700/50 border border-green-400/30 rounded text-white placeholder-green-200/60 focus:border-green-300/60 focus:ring-1 focus:ring-green-500/30\"}):/*#__PURE__*/_jsx(\"h3\",{className:\"text-white font-semibold\",children:item.description})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-green-300\",children:\"$\"}),item.editable?/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:item.amount,onChange:e=>updateManualLineItem(item.id,'amount',e.target.value),className:\"w-24 p-2 bg-slate-700/50 border border-green-400/30 rounded text-white focus:border-green-300/60 focus:ring-1 focus:ring-green-500/30\",step:\"0.01\",min:\"0\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-green-300 font-bold w-24 text-right\",children:item.amount}),item.editable&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeManualLineItem(item.id),className:\"p-1 text-red-400 hover:text-red-300 transition-colors\",children:/*#__PURE__*/_jsx(Trash2,{size:16})})]})]},item.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[selectedClient&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getGlowClasses('purple','medium'),\" \").concat(getCardClasses('standard'),\" p-4 sm:p-6\"),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"text-purple-400\"}),\"Invoice Summary\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-200\",children:\"Subtotal:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"$\",totals.subtotal.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-purple-200\",children:[\"Tax (\",formData.tax_rate,\"%):\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"$\",totals.tax_amount.toFixed(2)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-200\",children:\"Discount:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-semibold\",children:[\"-$\",totals.discount_amount.toFixed(2)]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"border-purple-400/30\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-purple-300 font-bold\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-white font-bold\",children:[\"$\",totals.total.toFixed(2)]})]})]})]}),selectedClient&&/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(getGlowClasses('gray','medium'),\" \").concat(getCardClasses('secondary'),\" p-4 sm:p-6\"),children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold text-white mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"text-gray-400\"}),\"Invoice Settings\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-gray-200 mb-2\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:formData.due_date,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{due_date:e.target.value})),className:\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-gray-200 mb-2\",children:\"Tax Rate (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.tax_rate,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{tax_rate:e.target.value})),className:\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\",step:\"0.01\",min:\"0\",max:\"100\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-gray-200 mb-2\",children:\"Discount ($)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.discount,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{discount:e.target.value})),className:\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\",step:\"0.01\",min:\"0\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-gray-200 mb-2\",children:\"Payment Terms (days)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:formData.payment_terms,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{payment_terms:e.target.value})),className:\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\",min:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-bold text-gray-200 mb-2\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.notes,onChange:e=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{notes:e.target.value})),rows:3,className:\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white placeholder-gray-200/60 focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\",placeholder:\"Additional notes for the invoice...\"})]})]})]}),selectedClient&&lineItems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(getGlowClasses('purple','medium'),\" \").concat(getCardClasses('standard'),\" p-4 sm:p-6\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSubmit('Draft'),disabled:loading,className:\"\".concat(getButtonClasses('secondary','lg'),\" w-full flex items-center justify-center gap-2\"),children:[/*#__PURE__*/_jsx(Save,{size:20}),loading?'Saving...':'Save as Draft']}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleSubmit('Sent'),disabled:loading,className:\"\".concat(getButtonClasses('success','lg'),\" w-full flex items-center justify-center gap-2\"),children:[/*#__PURE__*/_jsx(CheckCircle,{size:20}),loading?'Generating...':'Generate Invoice']})]})})]})]})]}),/*#__PURE__*/_jsx(\"style\",{jsx:true,children:\"\\n        @keyframes float {\\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\\n          50% { transform: translateY(-20px) rotate(5deg); }\\n        }\\n        \\n        .animate-float {\\n          animation: float 6s ease-in-out infinite;\\n        }\\n        \\n        .bg-gradient-radial {\\n          background: radial-gradient(circle, var(--tw-gradient-stops));\\n        }\\n      \"})]});};export default InvoiceGenerator;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useNavigate","api","toast","ArrowLeft","Save","FileText","Calendar","DollarSign","Plus","Trash2","CheckCircle","User","FolderOpen","Calculator","Receipt","getCardClasses","getButtonClasses","getGlowClasses","jsx","_jsx","jsxs","_jsxs","InvoiceGenerator","navigate","loading","setLoading","clients","setClients","selectedClient","setSelectedClient","billableProjects","setBillableProjects","selectedProjects","setSelectedProjects","Set","lineItems","setLineItems","manualLineItems","setManualLineItems","formData","setFormData","due_date","tax_rate","discount","notes","payment_terms","currency","totals","setTotals","subtotal","tax_amount","discount_amount","total","fetchClients","response","get","data","error","console","fetchBillableProjects","clientId","concat","projects","handleClientSelect","client","find","c","id","parseInt","handleProjectToggle","projectId","isSelected","newSelectedProjects","add","delete","updateLineItems","projectIds","projectLineItems","Array","from","map","project","p","type","project_id","description","name","amount","total_amount","editable","addManualLineItem","newItem","Date","now","prev","updateManualLineItem","field","value","updatedItems","item","_objectSpread","updatedLineItems","removeManualLineItem","filter","reduce","sum","parseFloat","taxRate","taxAmount","handleSubmit","status","arguments","length","undefined","payload","client_id","project_ids","line_items","post","success","invoice","className","children","_","i","style","left","Math","random","top","animationDelay","animationDuration","onClick","size","onChange","e","target","company","checked","has","placeholder","step","min","toFixed","max","rows","disabled"],"sources":["F:/Mondaysys/Project 3/Lightweight CRM for Freelancers/client/src/pages/InvoiceGenerator.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport api from '../config/axios';\r\nimport toast from 'react-hot-toast';\r\nimport { \r\n  ArrowLeft, \r\n  Save, \r\n  FileText, \r\n  Calendar, \r\n  DollarSign, \r\n  Plus, \r\n  Trash2, \r\n  CheckCircle,\r\n  User,\r\n  FolderOpen,\r\n  Calculator,\r\n  Receipt\r\n} from 'lucide-react';\r\nimport { getCardClasses, getButtonClasses, getGlowClasses } from '../styles/cosmic-design-system';\r\n\r\nconst InvoiceGenerator = () => {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(false);\r\n  const [clients, setClients] = useState([]);\r\n  const [selectedClient, setSelectedClient] = useState(null);\r\n  const [billableProjects, setBillableProjects] = useState([]);\r\n  const [selectedProjects, setSelectedProjects] = useState(new Set());\r\n  const [lineItems, setLineItems] = useState([]);\r\n  const [manualLineItems, setManualLineItems] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    due_date: '',\r\n    tax_rate: '0',\r\n    discount: '0',\r\n    notes: '',\r\n    payment_terms: '30',\r\n    currency: 'USD'\r\n  });\r\n  const [totals, setTotals] = useState({\r\n    subtotal: 0,\r\n    tax_amount: 0,\r\n    discount_amount: 0,\r\n    total: 0\r\n  });\r\n\r\n  // Fetch clients with billable projects\r\n  const fetchClients = useCallback(async () => {\r\n    try {\r\n      const response = await api.get('/invoices/generator/clients');\r\n      setClients(response.data.clients);\r\n    } catch (error) {\r\n      console.error('Error fetching clients:', error);\r\n      toast.error('Failed to fetch clients');\r\n    }\r\n  }, []);\r\n\r\n  // Fetch billable projects for selected client\r\n  const fetchBillableProjects = useCallback(async (clientId) => {\r\n    try {\r\n      const response = await api.get(`/invoices/generator/clients/${clientId}/projects`);\r\n      setBillableProjects(response.data.projects);\r\n    } catch (error) {\r\n      console.error('Error fetching billable projects:', error);\r\n      toast.error('Failed to fetch billable projects');\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchClients();\r\n  }, [fetchClients]);\r\n\r\n  // Handle client selection\r\n  const handleClientSelect = (clientId) => {\r\n    const client = clients.find(c => c.id === parseInt(clientId));\r\n    setSelectedClient(client);\r\n    setSelectedProjects(new Set());\r\n    setLineItems([]);\r\n    setManualLineItems([]);\r\n    \r\n    if (clientId) {\r\n      fetchBillableProjects(clientId);\r\n    } else {\r\n      setBillableProjects([]);\r\n    }\r\n  };\r\n\r\n  // Handle project selection\r\n  const handleProjectToggle = (projectId, isSelected) => {\r\n    const newSelectedProjects = new Set(selectedProjects);\r\n    \r\n    if (isSelected) {\r\n      newSelectedProjects.add(projectId);\r\n    } else {\r\n      newSelectedProjects.delete(projectId);\r\n    }\r\n    \r\n    setSelectedProjects(newSelectedProjects);\r\n    updateLineItems(newSelectedProjects);\r\n  };\r\n\r\n  // Update line items based on selected projects\r\n  const updateLineItems = (projectIds) => {\r\n    const projectLineItems = Array.from(projectIds).map(projectId => {\r\n      const project = billableProjects.find(p => p.id === projectId);\r\n      return {\r\n        id: `project-${projectId}`,\r\n        type: 'project',\r\n        project_id: projectId,\r\n        description: project.name,\r\n        amount: project.total_amount || 0,\r\n        editable: false\r\n      };\r\n    });\r\n\r\n    setLineItems([...projectLineItems, ...manualLineItems]);\r\n  };\r\n\r\n  // Add manual line item\r\n  const addManualLineItem = () => {\r\n    const newItem = {\r\n      id: `manual-${Date.now()}`,\r\n      type: 'manual',\r\n      description: '',\r\n      amount: 0,\r\n      editable: true\r\n    };\r\n    \r\n    setManualLineItems(prev => [...prev, newItem]);\r\n    setLineItems(prev => [...prev, newItem]);\r\n  };\r\n\r\n  // Update manual line item\r\n  const updateManualLineItem = (id, field, value) => {\r\n    const updatedItems = manualLineItems.map(item => \r\n      item.id === id ? { ...item, [field]: value } : item\r\n    );\r\n    \r\n    setManualLineItems(updatedItems);\r\n    \r\n    // Update line items\r\n    const updatedLineItems = lineItems.map(item => \r\n      item.id === id ? { ...item, [field]: value } : item\r\n    );\r\n    \r\n    setLineItems(updatedLineItems);\r\n  };\r\n\r\n  // Remove manual line item\r\n  const removeManualLineItem = (id) => {\r\n    setManualLineItems(prev => prev.filter(item => item.id !== id));\r\n    setLineItems(prev => prev.filter(item => item.id !== id));\r\n  };\r\n\r\n  // Calculate totals\r\n  useEffect(() => {\r\n    const subtotal = lineItems.reduce((sum, item) => sum + (parseFloat(item.amount) || 0), 0);\r\n    const taxRate = parseFloat(formData.tax_rate) || 0;\r\n    const discount = parseFloat(formData.discount) || 0;\r\n    const taxAmount = subtotal * taxRate / 100;\r\n    const total = subtotal + taxAmount - discount;\r\n\r\n    setTotals({\r\n      subtotal,\r\n      tax_amount: taxAmount,\r\n      discount_amount: discount,\r\n      total\r\n    });\r\n  }, [lineItems, formData.tax_rate, formData.discount]);\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (status = 'Draft') => {\r\n    if (!selectedClient) {\r\n      toast.error('Please select a client');\r\n      return;\r\n    }\r\n\r\n    if (lineItems.length === 0) {\r\n      toast.error('Please add at least one line item');\r\n      return;\r\n    }\r\n\r\n    if (totals.total <= 0) {\r\n      toast.error('Total amount must be greater than 0');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const projectIds = Array.from(selectedProjects);\r\n      \r\n      const payload = {\r\n        client_id: selectedClient.id,\r\n        project_ids: projectIds,\r\n        line_items: lineItems,\r\n        due_date: formData.due_date,\r\n        tax_rate: parseFloat(formData.tax_rate) || 0,\r\n        discount: parseFloat(formData.discount) || 0,\r\n        notes: formData.notes,\r\n        payment_terms: parseInt(formData.payment_terms) || 30,\r\n        currency: formData.currency,\r\n        status\r\n      };\r\n\r\n      const response = await api.post('/invoices/generator/create', payload);\r\n      \r\n      toast.success(`Invoice ${status === 'Draft' ? 'saved as draft' : 'created'} successfully!`);\r\n      navigate(`/invoices/${response.data.invoice.id}`);\r\n      \r\n    } catch (error) {\r\n      console.error('Error creating invoice:', error);\r\n      toast.error('Failed to create invoice');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen relative overflow-hidden\">\r\n      {/* Enhanced Cosmic Background */}\r\n      <div className=\"absolute inset-0 pointer-events-none\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-purple-900/40 via-indigo-900/30 to-black/50\"></div>\r\n        \r\n        {/* Animated Star Field */}\r\n        <div className=\"absolute inset-0 opacity-30\">\r\n          {[...Array(35)].map((_, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"absolute w-1 h-1 bg-white rounded-full animate-pulse\"\r\n              style={{\r\n                left: `${Math.random() * 100}%`,\r\n                top: `${Math.random() * 100}%`,\r\n                animationDelay: `${Math.random() * 3}s`,\r\n                animationDuration: `${2 + Math.random() * 3}s`\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n        \r\n        {/* Large Nebula Effects */}\r\n        <div className=\"absolute top-0 left-0 w-full h-full\">\r\n          <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-radial from-purple-600/10 to-transparent rounded-full blur-3xl animate-pulse\"></div>\r\n          <div className=\"absolute top-3/4 right-1/4 w-80 h-80 bg-gradient-radial from-blue-500/8 to-transparent rounded-full blur-3xl animate-pulse\" style={{ animationDelay: '1s' }}></div>\r\n          <div className=\"absolute bottom-1/4 left-1/3 w-72 h-72 bg-gradient-radial from-magenta-500/6 to-transparent rounded-full blur-3xl animate-pulse\" style={{ animationDelay: '2s' }}></div>\r\n        </div>\r\n        \r\n        {/* Floating Celestial Bodies */}\r\n        <div className=\"absolute top-20 right-20 w-16 h-16 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full shadow-2xl animate-float\" style={{ animationDelay: '0.5s' }}></div>\r\n        <div className=\"absolute top-40 left-20 w-12 h-12 bg-gradient-to-br from-blue-400 to-cyan-400 rounded-full shadow-2xl animate-float\" style={{ animationDelay: '1.5s' }}></div>\r\n        <div className=\"absolute bottom-40 right-40 w-14 h-14 bg-gradient-to-br from-green-400 to-emerald-400 rounded-full shadow-2xl animate-float\" style={{ animationDelay: '2.5s' }}></div>\r\n        \r\n        {/* Animated Meteor Streaks */}\r\n        <div className=\"absolute top-1/3 left-1/4 w-32 h-1 bg-gradient-to-r from-transparent via-cyan-400 to-transparent transform rotate-45 opacity-60 animate-pulse\" style={{ animationDelay: '0.8s' }}></div>\r\n        <div className=\"absolute bottom-1/3 right-1/4 w-24 h-1 bg-gradient-to-r from-transparent via-purple-400 to-transparent transform rotate-45 opacity-60 animate-pulse\" style={{ animationDelay: '1.8s' }}></div>\r\n        \r\n        {/* Enhanced Floating Particles */}\r\n        <div className=\"absolute inset-0\">\r\n          {[...Array(12)].map((_, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"absolute w-2 h-2 bg-white/20 rounded-full animate-pulse\"\r\n              style={{\r\n                left: `${Math.random() * 100}%`,\r\n                top: `${Math.random() * 100}%`,\r\n                animationDelay: `${Math.random() * 4}s`,\r\n                animationDuration: `${3 + Math.random() * 2}s`\r\n              }}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"relative z-10 p-4 sm:p-6 lg:p-8\">\r\n        {/* Header */}\r\n        <div className={`${getGlowClasses('purple', 'medium')} ${getCardClasses('standard')} p-4 sm:p-6 mb-6`}>\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <button\r\n                onClick={() => navigate('/invoices')}\r\n                className={`${getButtonClasses('primary', 'sm')} p-2 sm:p-3`}\r\n              >\r\n                <ArrowLeft size={18} />\r\n              </button>\r\n              <div>\r\n                <h1 className=\"text-2xl sm:text-3xl font-bold text-white flex items-center gap-2\">\r\n                  <Receipt className=\"text-purple-400\" />\r\n                  Invoice Generator\r\n                </h1>\r\n                <p className=\"text-purple-200/80 text-sm sm:text-base\">\r\n                  Create professional invoices from multiple projects\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 xl:grid-cols-3 gap-6\">\r\n          {/* Main Content */}\r\n          <div className=\"xl:col-span-2 space-y-6\">\r\n            {/* Step 1: Client Selection */}\r\n            <div className={`${getGlowClasses('orange', 'medium')} ${getCardClasses('warning')} p-4 sm:p-6`}>\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"p-2 bg-gradient-to-br from-orange-500/30 to-red-500/30 rounded-lg border border-orange-400/40\">\r\n                  <User className=\"w-5 h-5 text-orange-300\" />\r\n                </div>\r\n                <h2 className=\"text-xl font-bold text-white\">Step 1: Select Client</h2>\r\n              </div>\r\n              \r\n              <div className=\"space-y-4\">\r\n                <label className=\"block text-sm font-bold text-orange-200\">\r\n                  Choose a client with completed projects\r\n                </label>\r\n                <select\r\n                  value={selectedClient?.id || ''}\r\n                  onChange={(e) => handleClientSelect(e.target.value)}\r\n                  className=\"w-full p-3 bg-slate-800/50 border-2 border-orange-400/30 rounded-xl text-white placeholder-orange-200/60 focus:border-orange-300/60 focus:ring-2 focus:ring-orange-500/30 transition-all duration-300\"\r\n                >\r\n                  <option value=\"\">Select a client...</option>\r\n                  {clients.map(client => (\r\n                    <option key={client.id} value={client.id}>\r\n                      {client.name} {client.company && `(${client.company})`}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Step 2: Project Selection */}\r\n            {selectedClient && (\r\n              <div className={`${getGlowClasses('blue', 'medium')} ${getCardClasses('info')} p-4 sm:p-6`}>\r\n                <div className=\"flex items-center gap-3 mb-4\">\r\n                  <div className=\"p-2 bg-gradient-to-br from-blue-500/30 to-cyan-500/30 rounded-lg border border-blue-400/40\">\r\n                    <FolderOpen className=\"w-5 h-5 text-blue-300\" />\r\n                  </div>\r\n                  <h2 className=\"text-xl font-bold text-white\">Step 2: Select Billable Projects</h2>\r\n                </div>\r\n                \r\n                {billableProjects.length === 0 ? (\r\n                  <div className=\"text-center py-8\">\r\n                    <FolderOpen className=\"w-12 h-12 text-blue-400/50 mx-auto mb-3\" />\r\n                    <p className=\"text-blue-200/80\">No completed projects available for invoicing</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {billableProjects.map(project => (\r\n                      <div key={project.id} className=\"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-blue-400/20\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={selectedProjects.has(project.id)}\r\n                          onChange={(e) => handleProjectToggle(project.id, e.target.checked)}\r\n                          className=\"w-5 h-5 text-blue-500 bg-slate-700 border-blue-400/30 rounded focus:ring-blue-500/30\"\r\n                        />\r\n                        <div className=\"flex-1\">\r\n                          <h3 className=\"text-white font-semibold\">{project.name}</h3>\r\n                          <p className=\"text-blue-200/80 text-sm\">{project.description}</p>\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                          <p className=\"text-blue-300 font-bold\">${project.total_amount || 0}</p>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Step 3: Invoice Line Items */}\r\n            {selectedClient && (\r\n              <div className={`${getGlowClasses('green', 'medium')} ${getCardClasses('success')} p-4 sm:p-6`}>\r\n                <div className=\"flex items-center justify-between mb-4\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"p-2 bg-gradient-to-br from-green-500/30 to-emerald-500/30 rounded-lg border border-green-400/40\">\r\n                      <Calculator className=\"w-5 h-5 text-green-300\" />\r\n                    </div>\r\n                    <h2 className=\"text-xl font-bold text-white\">Step 3: Invoice Line Items</h2>\r\n                  </div>\r\n                  <button\r\n                    onClick={addManualLineItem}\r\n                    className={`${getButtonClasses('success', 'sm')} flex items-center gap-2`}\r\n                  >\r\n                    <Plus size={16} />\r\n                    Add Manual Item\r\n                  </button>\r\n                </div>\r\n\r\n                {lineItems.length === 0 ? (\r\n                  <div className=\"text-center py-8\">\r\n                    <Calculator className=\"w-12 h-12 text-green-400/50 mx-auto mb-3\" />\r\n                    <p className=\"text-green-200/80\">Select projects above to build your invoice</p>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {lineItems.map(item => (\r\n                      <div key={item.id} className=\"flex items-center gap-3 p-3 bg-slate-800/30 rounded-lg border border-green-400/20\">\r\n                        <div className=\"flex-1\">\r\n                          {item.editable ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              value={item.description}\r\n                              onChange={(e) => updateManualLineItem(item.id, 'description', e.target.value)}\r\n                              placeholder=\"Item description\"\r\n                              className=\"w-full p-2 bg-slate-700/50 border border-green-400/30 rounded text-white placeholder-green-200/60 focus:border-green-300/60 focus:ring-1 focus:ring-green-500/30\"\r\n                            />\r\n                          ) : (\r\n                            <h3 className=\"text-white font-semibold\">{item.description}</h3>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <span className=\"text-green-300\">$</span>\r\n                          {item.editable ? (\r\n                            <input\r\n                              type=\"number\"\r\n                              value={item.amount}\r\n                              onChange={(e) => updateManualLineItem(item.id, 'amount', e.target.value)}\r\n                              className=\"w-24 p-2 bg-slate-700/50 border border-green-400/30 rounded text-white focus:border-green-300/60 focus:ring-1 focus:ring-green-500/30\"\r\n                              step=\"0.01\"\r\n                              min=\"0\"\r\n                            />\r\n                          ) : (\r\n                            <span className=\"text-green-300 font-bold w-24 text-right\">{item.amount}</span>\r\n                          )}\r\n                          {item.editable && (\r\n                            <button\r\n                              onClick={() => removeManualLineItem(item.id)}\r\n                              className=\"p-1 text-red-400 hover:text-red-300 transition-colors\"\r\n                            >\r\n                              <Trash2 size={16} />\r\n                            </button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Sidebar */}\r\n          <div className=\"space-y-6\">\r\n            {/* Invoice Summary */}\r\n            {selectedClient && (\r\n              <div className={`${getGlowClasses('purple', 'medium')} ${getCardClasses('standard')} p-4 sm:p-6`}>\r\n                <h3 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                  <FileText className=\"text-purple-400\" />\r\n                  Invoice Summary\r\n                </h3>\r\n                \r\n                <div className=\"space-y-3\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-purple-200\">Subtotal:</span>\r\n                    <span className=\"text-white font-semibold\">${totals.subtotal.toFixed(2)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-purple-200\">Tax ({formData.tax_rate}%):</span>\r\n                    <span className=\"text-white font-semibold\">${totals.tax_amount.toFixed(2)}</span>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-between\">\r\n                    <span className=\"text-purple-200\">Discount:</span>\r\n                    <span className=\"text-white font-semibold\">-${totals.discount_amount.toFixed(2)}</span>\r\n                  </div>\r\n                  \r\n                  <hr className=\"border-purple-400/30\" />\r\n                  \r\n                  <div className=\"flex justify-between text-lg\">\r\n                    <span className=\"text-purple-300 font-bold\">Total:</span>\r\n                    <span className=\"text-white font-bold\">${totals.total.toFixed(2)}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Invoice Settings */}\r\n            {selectedClient && (\r\n              <div className={`${getGlowClasses('gray', 'medium')} ${getCardClasses('secondary')} p-4 sm:p-6`}>\r\n                <h3 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                  <Calendar className=\"text-gray-400\" />\r\n                  Invoice Settings\r\n                </h3>\r\n                \r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-bold text-gray-200 mb-2\">Due Date</label>\r\n                    <input\r\n                      type=\"date\"\r\n                      value={formData.due_date}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, due_date: e.target.value }))}\r\n                      className=\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-bold text-gray-200 mb-2\">Tax Rate (%)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={formData.tax_rate}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, tax_rate: e.target.value }))}\r\n                      className=\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"\r\n                      step=\"0.01\"\r\n                      min=\"0\"\r\n                      max=\"100\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-bold text-gray-200 mb-2\">Discount ($)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={formData.discount}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, discount: e.target.value }))}\r\n                      className=\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"\r\n                      step=\"0.01\"\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-bold text-gray-200 mb-2\">Payment Terms (days)</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={formData.payment_terms}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, payment_terms: e.target.value }))}\r\n                      className=\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"\r\n                      min=\"1\"\r\n                    />\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label className=\"block text-sm font-bold text-gray-200 mb-2\">Notes</label>\r\n                    <textarea\r\n                      value={formData.notes}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, notes: e.target.value }))}\r\n                      rows={3}\r\n                      className=\"w-full p-3 bg-slate-800/50 border-2 border-gray-400/30 rounded-xl text-white placeholder-gray-200/60 focus:border-gray-300/60 focus:ring-2 focus:ring-gray-500/30 transition-all duration-300\"\r\n                      placeholder=\"Additional notes for the invoice...\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Action Buttons */}\r\n            {selectedClient && lineItems.length > 0 && (\r\n              <div className={`${getGlowClasses('purple', 'medium')} ${getCardClasses('standard')} p-4 sm:p-6`}>\r\n                <div className=\"space-y-3\">\r\n                  <button\r\n                    onClick={() => handleSubmit('Draft')}\r\n                    disabled={loading}\r\n                    className={`${getButtonClasses('secondary', 'lg')} w-full flex items-center justify-center gap-2`}\r\n                  >\r\n                    <Save size={20} />\r\n                    {loading ? 'Saving...' : 'Save as Draft'}\r\n                  </button>\r\n                  \r\n                  <button\r\n                    onClick={() => handleSubmit('Sent')}\r\n                    disabled={loading}\r\n                    className={`${getButtonClasses('success', 'lg')} w-full flex items-center justify-center gap-2`}\r\n                  >\r\n                    <CheckCircle size={20} />\r\n                    {loading ? 'Generating...' : 'Generate Invoice'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        @keyframes float {\r\n          0%, 100% { transform: translateY(0px) rotate(0deg); }\r\n          50% { transform: translateY(-20px) rotate(5deg); }\r\n        }\r\n        \r\n        .animate-float {\r\n          animation: float 6s ease-in-out infinite;\r\n        }\r\n        \r\n        .bg-gradient-radial {\r\n          background: radial-gradient(circle, var(--tw-gradient-stops));\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceGenerator;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}